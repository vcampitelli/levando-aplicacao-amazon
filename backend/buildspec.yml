version: 0.2
phases:
  install:
    commands:
      - cd backend
      - echo "Instalando dependÃªncias de teste..."
      - composer install --dev
  build:
    commands:
      - echo "Rodando testes..."
      - composer test --no-interaction
artifacts:
  files:
    - 'backend/app/**/*'
    - 'backend/public/**/*'
    - 'backend/src/**/*'
    - 'backend/composer.json'
    - 'backend/composer.lock'
    - 'appspec.yml'
    - 'scripts/install-prod.sh'
cache:
  paths:
    - 'backend/vendor'
